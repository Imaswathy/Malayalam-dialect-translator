from flask import Flask, render_template, request
import webbrowser

app = Flask(__name__)

phrasebook = {
    "how are you": "സുഖമാണോ?",
    "what is your name": "നിന്റെ പേര് എന്താണ്?",
    "where are you going": "എവിടേക്കാണ് പോകുന്നത്?",
    "i am hungry": "എനിക്ക് വിശക്കുന്നു.",
    "what are you doing": "എന്താണ് ചെയ്യുന്നത്?",
    "i am going home": "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.",
    "come here": "ഇവിടെ വാ.",
    "what happened": "എന്താണ് സംഭവിച്ചത്?",
    "don't worry": "പൊറുതിയിരിക്കുക.",
    "thank you": "നന്ദി."
}

dialects = {
    "Thiruvananthapuram": {
        "സുഖമാണോ?": "സുഖമാണോ ?",
        "നിന്റെ പേര് എന്താണ്?": "പേരേന്താണു?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെക്കാണു പോകുന്നത്?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്താ ചെയ്യുന്നത്?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടേക്കു പോവുകയാണ്.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്താ പറ്റി?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തിയാകു.",
        "നന്ദി.": "നന്ദി."
    },
    "Kollam": {
        "സുഖമാണോ?": "സുഖമാണേടാ?",
        "നിന്റെ പേര് എന്താണ്?": "പേരേടാ എന്താണ്?",
        "എവിടേക്കാണ് പോകുന്നത്?": "പോകുന്നേടെ എവിടെ?",
        "എനിക്ക് വിശക്കുന്നു.": "വിശക്കുന്നു ടേ!",
        "എന്താണ് ചെയ്യുന്നത്?": "ചെയ്യുന്നത് എന്താടാ?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടേക്കാണ് പോവുന്നത് ടേ.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ ടേ!",
        "എന്താണ് സംഭവിച്ചത്?": "പറ്റിയേടാ എന്താ?",
        "പൊറുതിയിരിക്കുക.": "ഒരുക്കനെ ഇരിക്കെടാ!",
        "നന്ദി.": "നന്ദിയാ ടേ!"
    },
    "Pathanamthitta": {
        "സുഖമാണോ?": "സുഖമാണോ മച്ചാനേ?",
        "നിന്റെ പേര് എന്താണ്?": "നിന്റെ പേരു് എന്ത്?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോവുന്നു?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു സാറേ.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്തു് ചെയ്യുന്നു?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിൽ പോവുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്ത് പറ്റി?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തമാ ഇരിക്കു.",
        "നന്ദി.": "നന്ദി."
    },
    "Alappuzha": {
        "സുഖമാണോ?": "സുഖമാണോ ആണോ?",
        "നിന്റെ പേര് എന്താണ്?": "പേരു് എന്താ?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെയായിരിക്കും പോകുന്നത്?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്കു വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്താണു ചെയ്യുന്നത്?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോവുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്താണു സംഭവിച്ചത്?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തമാകൂ.",
        "നന്ദി.": "നന്ദി."
    },
    "Kottayam": {
        "സുഖമാണോ?": "സുഖമാണോ ?",
        "നിന്റെ പേര് എന്താണ്?": "നിന്റെ പേരു് എന്തു്?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോവുന്നു വണ്ണേ?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്തു് ചെയ്യുന്നു?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോകുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ വണ്ണേ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്തു് പറ്റി?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തിയാകൂ വണ്ണേ.",
        "നന്ദി.": "നന്ദി."
    },
    "Idukki": {
        "സുഖമാണോ?": "സുഖമാണോ ?",
        "നിന്റെ പേര് എന്താണ്?": "നിന്റെ പേരു് എന്താണേ?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെക്കാണു പോകുന്നത്?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്താ ചെയ്യുന്നു?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോവുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ ചങ്ങാനേ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്താ പറ്റി?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തി ആയി ഇരിക്കൂ.",
        "നന്ദി.": "നന്ദി."
    },
    "Ernakulam": {
        "സുഖമാണോ?": "സുഖമാണോ?",
        "നിന്റെ പേര് എന്താണ്?": "നിന്റെ പേര് എന്താണ്?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോകുന്നു?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്തു് ചെയ്യുന്നു?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക്ക് പോകുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്തു് സംഭവിച്ചു?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തമായി ഇരിക്കുക.",
        "നന്ദി.": "നന്ദി."
    },
    "Thrissur": {
        "സുഖമാണോ?": "സുഖമാണോ ?",
        "നിന്റെ പേര് എന്താണ്?": "പേരേന്ത്?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോവുന്നേ?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്താ ചെയ്യുന്നു?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോകുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്താ പറ്റി?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തമായിരിക്കുക.",
        "നന്ദി.": "നന്ദി."
    },
    "Palakkad": {
        "സുഖമാണോ?": "സുഖമാണോ പെങ്ങളേ?",
        "നിന്റെ പേര് എന്താണ്?": "പേരു് എന്താണേ?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോവുകയാണ്?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്താ ചെയ്യുന്നേ?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോവുകയാണ്.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്താ പറ്റി?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തമായി ഇരിക്കു.",
        "നന്ദി.": "നന്ദി."
    },
    "Malappuram": {
        "സുഖമാണോ?": "സുഖമാണോ ?",
        "നിന്റെ പേര് എന്താണ്?": "നിന്റെ പേരു് എന്താണേ?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോകുന്നു മച്ചാനേ?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്ത് ചെയ്യുന്നു?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോകുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ മച്ചാനേ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്ത് പറ്റി?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തി ആയി ഇരിക്കൂ.",
        "നന്ദി.": "നന്ദി."
    },
    "Kozhikode": {
        "സുഖമാണോ?": "സുഖമാണേ?",
        "നിന്റെ പേര് എന്താണ്?": "നിങ്ങളുടെ പേര് എന്ത്?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോവുന്നു?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്ത് ചെയ്യുന്നു?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക്ക് പോകുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്ത് സംഭവിച്ചു?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തമായി ഇരിക്കുക.",
        "നന്ദി.": "നന്ദി."
    },
    "Wayanad": {
        "സുഖമാണോ?": "സുഖമാണോ സാർ?",
        "നിന്റെ പേര് എന്താണ്?": "പേരു് എന്താണു്?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോവുന്നു?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു സാർ.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്തു് ചെയ്യുന്നു?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോകുന്നു.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ സാർ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്തു് പറ്റി?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തി ആയി ഇരിക്കുക.",
        "നന്ദി.": "നന്ദി."
    },
    "Kannur": {
        "സുഖമാണോ?": "സുഖമാണോ ദാ?",
        "നിന്റെ പേര് എന്താണ്?": "പേരേന്താ?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോവുന്നു ദാ?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു ദാ.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്ത് ചെയ്യുന്നു ദാ?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോവുന്നു ദാ.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ ദാ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്ത് പറ്റി ദാ?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തിയായി ഇരിക്കു ദാ.",
        "നന്ദി.": "നന്ദി ദാ."
    },
    "Kasargod": {
        "സുഖമാണോ?": "സുഖമാണോ ?",
        "നിന്റെ പേര് എന്താണ്?": "പേരേന്താണേ?",
        "എവിടേക്കാണ് പോകുന്നത്?": "എവിടെ പോവുന്നേ?",
        "എനിക്ക് വിശക്കുന്നു.": "എനിക്ക് വിശക്കുന്നു കേളോ.",
        "എന്താണ് ചെയ്യുന്നത്?": "എന്താ ചെയ്യുന്നു കേളോ?",
        "ഞാൻ വീട്ടിലേക്ക് പോകുകയാണ്.": "ഞാൻ വീട്ടിലേക് പോവുന്നേ കേളോ.",
        "ഇവിടെ വാ.": "ഇവിടെ വാ കേളോ.",
        "എന്താണ് സംഭവിച്ചത്?": "എന്താ പറ്റി കേളോ?",
        "പൊറുതിയിരിക്കുക.": "ശാന്തിയായി ഇരിക്കേ കേളോ.",
        "നന്ദി.": "നന്ദി കേളോ."
    }
}

districts = list(dialects.keys())

def translate(english, district):
    mal = phrasebook.get(english.lower())
    if not mal:
        return None, "❌ Phrase not found."
    slang = dialects[district].get(mal, mal)
    return mal, slang

@app.route('/', methods=['GET', 'POST'])
def index():
    mal = result = None
    if request.method == 'POST':
        eng = request.form.get('english', '').strip()
        district = request.form.get('district', '')
        if eng and district:
            mal, result = translate(eng, district)
        else:
            result = "Please enter phrase and select district."
    return render_template('index.html', districts=districts, malayalam=mal, result=result)

if __name__ == '__main__':
    app.run(debug=True)


